<section class="lead-detail-container">
  @if (isLoading()) {
    <div class="loading">
      <mat-progress-spinner mode="indeterminate" diameter="45"></mat-progress-spinner>
    </div>
  } @else if (lead()) {
    <div class="header">
      <div class="info">
        <h2>{{ lead()?.name }} {{ lead()?.lastName }}</h2>
        <p class="subtitle">{{ lead()?.email }}</p>
      </div>
      <mat-chip [color]="'primary'" selected>{{ lead()?.lead_score }}</mat-chip>
    </div>

    <mat-divider></mat-divider>

    <div class="details">
      <div class="detail-item">
        <span class="label">DNI:</span>
        <span>{{ lead()?.dni }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Teléfono:</span>
        <span>{{ lead()?.phone }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Ciudad:</span>
        <span>{{ lead()?.city }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Canal:</span>
        <span>{{ lead()?.channel }}</span>
      </div>
      <div class="detail-item">
        <span class="label">Estado:</span>
        <mat-chip [color]="'accent'" selected>{{ lead()?.status }}</mat-chip>
      </div>
      <div class="detail-item">
        <span class="label">Fecha creación:</span>
        <span>{{ lead()?.created_at | date: 'medium' }}</span>
      </div>
    </div>

    <mat-divider></mat-divider>

    <div class="actions">
      <button mat-flat-button color="primary">
        <mat-icon>chat</mat-icon> Ver historial
      </button>
      <button mat-flat-button color="accent">
        <mat-icon>edit</mat-icon> Editar lead
      </button>
      <button mat-flat-button color="warn">
        <mat-icon>delete</mat-icon> Eliminar
      </button>
    </div>
  } @else {
    <p class="no-data">No se encontró información del lead.</p>
  }
</section>
